!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).stationMsg={})}(this,(function(n){"use strict";const e=()=>navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),t=()=>{let n=navigator.userAgent,e=/(?:Windows Phone)/.test(n),t=/(?:SymbianOS)/.test(n)||e,i=/(?:Android)/.test(n),o=/(?:Firefox)/.test(n),s=/(?:Chrome|CriOS)/.test(n),r=/(?:iPad|PlayBook)/.test(n)||i&&!/(?:Mobile)/.test(n)||o&&/(?:Tablet)/.test(n),d=/(?:iPhone)/.test(n)&&!r,a=!d&&!i&&!t,c=/lenovomallapp/i.test(n),l=/miniprogram/i.test(n),p=/MicroMessenger/i.test(n),u=/lenovoofficialapp/i.test(n);return{isPhone:d,isAndroid:i,isPc:a,isApp:c||u,isDuosunApp:/duosuna/i.test(n),isMiniprogramp:l,isChrome:s,isWxBrowser:p}};let i="",o="";window.location.href.indexOf("lenovo.com")>-1?(i="//papi.lenovo.com.cn",o="//send.lenovo.com.cn"):(i="//papi.lenovouat.com",o="//send.lenovouat.com");let s="",r="",d=(new Date).getTime();const a=(n,e)=>1==e?`<div\n        id="station-mark"\n        style="\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        position: fixed;\n        top: 0;\n        left: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index:1001;\n        "\n    >\n        <div\n        id="station-mark-main"\n        style="\n            width: 600px;\n            height: 520px;\n            position: relative;\n            cursor: pointer;\n        "\n        >\n        <div\n            id="station-mark-close"\n            style="\n            position: absolute;\n            top: 0px;\n            right: -42px;\n            width: 42px;\n            height: 42px;\n            "\n        >\n            <img\n            src="https://p3.lefile.cn/fes/cms/2023/06/26/pc_colse.png"\n            style="\n                width: 42px;\n                height: 42px;\n                cursor: pointer;\n                position: absolute;\n                top: 0;\n                left: 0;\n            "\n            alt=""\n            />\n        </div>\n        <img\n            src="${n.imgUrl}"\n            latag="${s}"\n            style="width: 100%; height: 100%; cursor: pointer"\n            alt=""\n        />\n        </div>\n    </div>`:2==e?`<div\n    id="station-mark"\n    style="\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.5);\n      position: fixed;\n      top: 0;\n      left: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index:1001;\n    "\n  >\n    <div\n      id="station-mark-main"\n      style="\n        width: 280px;\n        height: 330px;\n        position: relative;\n        cursor: pointer;\n      "\n    >\n      <div\n        id="station-mark-close"\n        style="\n          position: absolute;\n          bottom: -50px;\n          right: 50%;\n          margin-right: -15px;\n          width: 30px;\n          height: 30px;\n        "\n      >\n        <img\n          src="https://p2.lefile.cn/fes/cms/2023/06/21/wap_colse.png"\n          style="\n            width: 30px;\n            height: 30px;\n            cursor: pointer;\n            position: absolute;\n          "\n          alt=""\n        />\n      </div>\n      <img\n        src=" ${n.imgUrl}"\n        latag="${s}"\n        style="width: 100%; height: 100%; cursor: pointer"\n        alt=""\n      />\n    </div>\n  </div>`:void 0;const c=n=>{n.url&&setTimeout((()=>{window.location.href=n.url}))},l=(n,e,t)=>{let i="",o="";switch(e){case 1:i="https://p4.lefile.cn/fes/cms/2023/06/20/success_logo.png",o="领取成功";break;case 2:i="https://p4.lefile.cn/fes/cms/2023/06/20/success_logo.png",o="领取成功请前往奖品中心查看";break;case 3:i="https://p4.lefile.cn/fes/cms/2023/06/20/msg_error.png",o="出错了，换个姿势再试试吧~"}var s=document.createElement("div");s.innerHTML=((n,e,t)=>1==t?`<div\n    id="station-mark"\n    style="\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.5);\n      position: fixed;\n      top: 0;\n      left: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index:1001;\n    "\n  >\n    <div\n      id="station-toast"\n      style="\n        width: 435px;\n        height: 236px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        font-size: 16px;\n        color: #252525;\n        background: #fff;\n        z-index: 999;\n        animation-duration: 1s;\n        position: relative;\n      "\n    >\n      <div\n        id="msg-close"\n        latag="${r}"\n        style="\n          width: 17px;\n          height: 17px;\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          cursor: pointer;\n        "\n        src="https://p4.lefile.cn/fes/cms/2023/06/20/msg_close.png"\n        alt=""\n      >\n        <img\n          src="https://p4.lefile.cn/fes/cms/2023/06/20/msg_close.png"\n          style="\n            width: 17px;\n            height: 17px;\n            cursor: pointer;\n            position: absolute;\n            top: 0;\n            left: 0;\n          "\n          alt=""\n        />\n      </div>\n      <img\n        style="width: 60px; height: 60px; margin-bottom: 17px"\n        src="${n}"\n        alt=""\n      />\n      ${e}\n    </div>\n  </div>`:2==t?`<div\n    style="\n      width: 100%;\n      height: 100%;\n      position: fixed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      top: 0;\n      left: 0;\n      color: #fff;\n      font-size: 14px;\n      z-index:1001;\n    "\n  >\n    <span\n      id="station-toast-wap"\n      style="\n        background: rgba(0, 0, 0, 0.7);\n        border-radius: 24px;\n        padding: 12px 24px;\n        text-align: center;\n        color: #fff;\n        font-size: 14px;\n      "\n    >\n      ${e}\n    </span>\n  </div>`:void 0)(i,o,t),document.body.appendChild(s);let d=document.getElementById("msg-close");d&&(d.onclick=function(e){document.body.removeChild(s),c(n)}),setTimeout((function(){c(n),document.body.removeChild(s)}),3e3)},p=()=>{try{window.passport&&window.passport.isLogin()&&$.ajax({url:`${o}/sse/over`,type:"get",xhrFields:{withCredentials:!0},data:{version:d},success:function(n){},error:function(){}})}catch(n){}},u=(n,e,o)=>{let s="";return s=t.isMiniprogramp?(n=>{const e=document.cookie.split(";"),t={};if(0!=e.length){for(let n=0;n<e.length;n++){var i=e[n].split("=");i[0]=_.trim(i[0]),t[i[0]]=i[1]}return t[n]?t[n]:void 0}})("deviceId_shumei"):window.deviceId_shumei||window.SMSdk.getDeviceId(),!!n.activityId&&(!!window.jQuery&&void $.ajax({url:i+"/draw/activity/lotterydrawaddress?aa="+(new Date).getMilliseconds(),type:"get",dataType:"jsonp",data:{drawId:n.activityId,terminal:e,deviceId:s},success:function(t){200==t.status?l(n,2,e):l(n,3,e)},error:function(){}}))};function m(n,i,p){n||(n=e()?2:1);try{let e=0;if(window.deviceId_shumei||function(){window._smReadyFuncs=[],window.SMSdk={ready:function(n){n&&_smReadyFuncs.push(n)}},window._smConf={organization:"OiSyzKqqwO9gAy7AsaIP",appId:"lenovo-web",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCGzEbp+0og3VkzT/DUquAq0fZ+KFEZgIc8cak9rFYqQ2zgBhY9s1gprIFqY2efpQKwWhOSF/L11zn3Bdj7fjJnqQEDpwis3JaIgtBEl8lCIWaKejI9td8CRo3tOno3bmC4VuplY5X6FUGUs9E26QrV1R08TbYv2IbBhz5jVT0riwIDAQAB",staticHost:"static.portal101.cn",protocol:"https"};var n=function(){var n="static.fengkongcloud.com",e="https:"===document.location.protocol,t=e?"https://":"http://",i="/dist/web/v3.0.0/fp.min.js",o="?t="+((new Date).getTime()/216e5).toFixed(0),s=t+_smConf.staticHost+i+o,r=navigator.userAgent.toLowerCase(),d=/windows\s(?:nt\s5.1)|(?:xp)/.test(r),a=/msie\s[678]\.0/.test(r);return e&&d&&a&&(s=t+n+i+o),s}(),e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.src=n,t.parentNode.insertBefore(e,t)}(),p||(p=`${o}/sse/subscribe?version=${d}`),t().isApp)return!1;if("EventSource"in window&&window.passport&&window.passport.isLogin()){const t=new EventSource(p,{withCredentials:!0});t.addEventListener("open",(function(n){})),t.addEventListener("message",(e=>{let t=JSON.parse(e.data);s=`latag_${1==n?"pc":"wap"}_消息弹框_弹框图片_1_${t.url||null}_图片`,r=`latag_${1==n?"pc":"wap"}_消息弹框_关闭按钮_1_${t.url||null}_按钮`,function(n,e){if(2!=(n=JSON.parse(n)).category)return!1;let t=document.getElementById("station-warper");t&&document.body.removeChild(t);var i=document.createElement("div");i.id="station-warper",i.innerHTML=a(n,e),document.body.appendChild(i),setTimeout((function(){let t=document.getElementById("station-mark-close"),o=document.getElementById("station-mark"),s=document.getElementById("station-mark-main");t&&(t.onclick=function(n){n.stopPropagation(),document.body.removeChild(i)}),o.onclick=function(n){},s.onclick=function(t){t.stopPropagation(),0==n.activityType?c(n):1==n.activityType?(u(n,e),document.body.removeChild(i)):2==n.activityType&&(l(n,1,e),document.body.removeChild(i))}}),1e3)}(e.data,n)}),!1),t.addEventListener("event-11",(n=>{}),!1),t.onerror=function(n){e++,e>2&&t.close()}}}catch(n){}}var g,f="",h=navigator.userAgent.indexOf("Firefox")>-1;window.addEventListener&&window.addEventListener("beforeunload",(function(n){f=(new Date).getTime(),h?(p(),window.removeEventListener("beforeunload")):p()})),window.addEventListener&&window.addEventListener("unload",(function(n){g=(new Date).getTime()-f,h?p():g<=5&&(p(),window.removeEventListener("beforeunload"))})),setTimeout((function(){window.closeMessage||m()}),1e3);var w={stationMsgFun:m,isMobile:e};n.default=w,n.isMobile=e,n.stationMsgFun=m,Object.defineProperty(n,"__esModule",{value:!0})}));
